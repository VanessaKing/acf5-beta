!function(e){acf_field_group.pro={init:function(){var t=this;acf.add_action("open change sortstop",function(e){e.siblings(".no-fields-message").hide(),t.render_field(e)}),acf_field_group.fields.$el.find(".field").each(function(){t.render_field(e(this))})},render_field:function(e){var t=e.parents(".field"),a=0;if(t.exists()){var i=t.first().attr("data-id"),n=t.first().attr("data-key");a=n,i&&(a=i)}if(this.update_field_input(e,"parent",a),t.exists()&&"flexible_content"==e.closest("tr.acf-field").attr("data-option")){var n=e.closest("tr.acf-field").attr("data-key");this.update_field_input(e,"parent_layout",n)}else e.find("> .acf-hidden > .input-parent_layout").remove();acf.do_action("render_field",e)},update_field_input:function(t,a,i){if($input=t.find("> .acf-hidden > .input-"+a),!$input.exists()){var n=t.find("> .acf-hidden > .input-ID").outerHTML().replace(/ID/g,a);$input=e(n),t.find("> .acf-hidden").append($input)}$input.val(i)}},acf_field_group.pro.repeater={$el:null,init:function(){var t=this;this.$el=acf_field_group.fields.$el,acf.add_action("render_field",function(e){"repeater"==e.attr("data-type")&&t.render(e)}),this.$el.on("click",'.acf-field[data-name="layout"][data-option="repeater"] input',function(a){t.render(e(this).closest(".field"))})},render:function(e){var t=e.find('tr[data-name="layout"]:first input:checked').val(),a=e.find('tr[data-name="sub_fields"]:first .acf-field-list:first');a.removeClass("layout-row layout-table").addClass("layout-"+t),a.hasClass("ui-sortable")||acf_field_group.fields.init_field_list(a)}},acf_field_group.pro.flexible_content={$el:null,init:function(){var t=this;this.$el=acf_field_group.fields.$el,this.$el.on("click",".acf-fc-add",function(a){a.preventDefault(),t.add(e(this).closest(".acf-field"))}),this.$el.on("click",".acf-fc-duplicate",function(a){a.preventDefault(),t.duplicate(e(this).closest(".acf-field"))}),this.$el.on("click",".acf-fc-delete",function(a){a.preventDefault(),t.remove(e(this).closest(".acf-field"))}),this.$el.on("change blur",".acf-fc-meta-label input",function(t){var a=e(this),i=a.closest(".acf-fc-meta").find(".acf-fc-meta-name input");if(""==i.val()){var n=a.val(),f={ä:"a",æ:"a",å:"a",ö:"o",ø:"o",é:"e",ë:"e",ü:"u",ó:"o",ő:"o",ú:"u",é:"e",á:"a",ű:"u",í:"i"," ":"_","'":""};e.each(f,function(e,t){var a=new RegExp(e,"g");n=n.replace(a,t)}),n=n.toLowerCase(),i.val(n).trigger("change")}}),this.$el.on("mouseenter",".acf-fc-reorder",function(t){var a=e(this).closest("tbody");a.hasClass("ui-sortable")||a.sortable({items:'> tr[data-name="fc_layout"]',handle:".acf-fc-reorder",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start:function(e,t){acf.do_action("sortstart",t.item,t.placeholder)},stop:function(e,t){acf.do_action("sortstop",t.item,t.placeholder)}})}),this.$el.on("change",".acf-fc-meta-display select",function(t){var a=e(this).closest(".acf-fc-meta").siblings(".repeater");a.removeClass("layout-row").removeClass("layout-table").addClass("layout-"+e(this).val())})},add:function(e){var t=e.clone(!1);t.find('.field:not([data-key="acfcloneindex"])').remove(),t.find(".no-fields-message").show(),t.find(".acf-fc-meta input").val(""),this.wipe_layout(t),e.after(t),t.find(".acf-fc-meta select").val("row").trigger("change")},duplicate:function(t){t.find("select").each(function(){e(this).attr("data-val",e(this).val())});var a=t.clone(!1);this.wipe_layout(a),a.find(".field").each(function(){acf_field_group.fields.wipe_field(e(this))}),t.after(a),a.find("select").each(function(){e(this).val(e(this).attr("data-val")).trigger("change")}),a.find(".acf-fc-meta-label input").focus()},remove:function(t){return 0==t.siblings('tr[data-name="fc_layout"]').length?(alert(acf._e("flexible_content","delete")),!1):(t.css({height:t.height(),width:t.width(),position:"absolute"}),t.animate({opacity:0},250,function(){e(this).remove()}),$blank=e('<tr style="height:'+t.height()+'px"><td colspan="2"></td></tr>'),t.after($blank),void $blank.animate({height:0},250,function(){e(this).remove()}))},render:function(e){},wipe_layout:function(t){var a=t.attr("data-key"),i=acf.get_uniqid();t.attr("data-key",i),t.find('> .acf-input > .acf-hidden [data-name="layout-key"]').val(i),t.find("[name]").each(function(){var t=e(this).attr("name").replace("[layouts]["+a+"]","[layouts]["+i+"]");e(this).attr("name",t),e(this).attr("id",t)})}},e(document).on("ready",function(){acf_field_group.pro.init(),acf_field_group.pro.repeater.init(),acf_field_group.pro.flexible_content.init()})}(jQuery);