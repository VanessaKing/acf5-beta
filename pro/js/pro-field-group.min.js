(function(e){acf_field_group.pro={init:function(){var t=this;acf.on("append sortstop",function(e,n){if(n.is(".field")){n.siblings(".no-fields-message").hide();t.render_field(n)}});acf_field_group.fields.$el.find(".field").each(function(){t.render_field(e(this))})},render_field:function(e){var t=e.parents(".field"),n=0;if(t.exists()){var r=t.first().attr("data-id"),i=t.first().attr("data-key");n=i;r&&(n=r)}e.find("> .acf-hidden > .input-parent").val(n);if(t.exists()&&e.closest("tr.acf-field").attr("data-option")=="flexible-content"){var i=e.closest("tr.acf-field").attr("data-key");this.update_field_input(e,"parent_layout",i)}else e.find("> .acf-hidden > .input-parent_layout").remove();acf.trigger("render_field",[e])},update_field_input:function(t,n,r){$input=t.find("> .acf-hidden > .input-"+n);if(!$input.exists()){var i=t.find("> .acf-hidden > .input-ID").outerHTML().replace(/ID/g,n);$input=e(i);t.find("> .acf-hidden").append($input)}$input.val(r)}};acf_field_group.pro.repeater={$el:null,init:function(){var t=this;this.$el=acf_field_group.fields.$el;acf.on("render_field",function(e,n){n.attr("data-type")=="repeater"&&t.render(n)});this.$el.on("click",'.acf-field[data-name="layout"][data-option="repeater"] input',function(t){acf_field_group.pro.repeater.render(e(this).closest(".field"))})},render:function(e){var t=e.find('tr[data-name="layout"]:first input:checked').val();e.find('tr[data-name="sub_fields"]:first .acf-field-list:first').removeClass("layout-row layout-table").addClass("layout-"+t)}};acf_field_group.pro.flexible_content={$el:null,init:function(){var t=this;this.$el=acf_field_group.fields.$el;this.$el.on("click",".acf-fc-add",function(n){n.preventDefault();t.add(e(this).closest(".acf-field"))});this.$el.on("click",".acf-fc-duplicate",function(n){n.preventDefault();t.duplicate(e(this).closest(".acf-field"))});this.$el.on("click",".acf-fc-delete",function(n){n.preventDefault();t.remove(e(this).closest(".acf-field"))});this.$el.on("change blur",".acf-fc-meta-label input",function(t){var n=e(this),r=n.closest(".acf-fc-meta").find(".acf-fc-meta-name input");if(r.val()==""){var i=n.val(),s={"ä":"a","æ":"a","å":"a","ö":"o","ø":"o","é":"e","ë":"e","ü":"u","ó":"o","ő":"o","ú":"u","é":"e","á":"a","ű":"u","í":"i"," ":"_","'":""};e.each(s,function(e,t){var n=new RegExp(e,"g");i=i.replace(n,t)});i=i.toLowerCase();r.val(i).trigger("change")}});this.$el.on("mouseenter",".acf-fc-reorder",function(t){var n=e(this).closest("tbody");if(n.hasClass("ui-sortable"))return;n.sortable({items:'> tr[data-name="fc_layout"]',handle:".acf-fc-reorder",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start:function(e,t){acf.trigger("sortstart",[t.item,t.placeholder])},stop:function(e,t){acf.trigger("sortstop",[t.item,t.placeholder])}})});this.$el.on("change",".acf-fc-meta-display select",function(t){var n=e(this).closest(".acf-fc-meta").siblings(".repeater");n.removeClass("layout-row").removeClass("layout-table").addClass("layout-"+e(this).val())})},add:function(e){var t=e.clone(!1);t.find('.field:not([data-key="acfcloneindex"])').remove();t.find(".no-fields-message").show();t.find(".acf-fc-meta input").val("");this.wipe_layout(t);e.after(t);t.find(".acf-fc-meta select").val("row").trigger("change")},duplicate:function(t){t.find("select").each(function(){e(this).attr("data-val",e(this).val())});var n=t.clone(!1);this.wipe_layout(n);n.find(".field").each(function(){acf_field_group.fields.wipe_field(e(this))});t.after(n);n.find("select").each(function(){e(this).val(e(this).attr("data-val")).trigger("change")});n.find(".acf-fc-meta-label input").focus()},remove:function(t){if(t.siblings('tr[data-name="fc_layout"]').length==0){alert(acf._e("flexible_content","delete"));return!1}t.css({height:t.height(),width:t.width(),position:"absolute"});t.animate({opacity:0},250,function(){e(this).remove()});$blank=e('<tr style="height:'+t.height()+'px"><td colspan="2"></td></tr>');t.after($blank);$blank.animate({height:0},250,function(){e(this).remove()})},render:function(e){},wipe_layout:function(t){var n=t.attr("data-key"),r=acf.helpers.uniqid();t.attr("data-key",r);t.find("[name]").each(function(){var t=e(this).attr("name").replace("[layouts]["+n+"]","[layouts]["+r+"]");e(this).attr("name",t);e(this).attr("id",t)})}};e(document).on("ready",function(){acf_field_group.pro.init();acf_field_group.pro.repeater.init();acf_field_group.pro.flexible_content.init()})})(jQuery);