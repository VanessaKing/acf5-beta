/* **********************************************
     Begin event-manager.js
********************************************** */(function(e,t){"use strict";var n=e.document,r=function(){function r(t,n,r){if(l(t)===!1||typeof n!="function")return e;r=parseInt(r||10,10);c("actions",t,n,r);return e}function i(){var t=Array.prototype.slice.call(arguments),n=t.shift();if(l(n)===!1)return e;p("actions",n,t);return e}function s(t){if(l(t)===!1)return e;f("actions",t);return e}function o(t,n,r){if(l(t)===!1||typeof n!="function")return e;r=parseInt(r||10,10);c("filters",t,n,r);return e}function u(){var t=Array.prototype.slice.call(arguments),n=t.shift();return l(n)===!1?e:p("filters",n,t)}function a(t){if(l(t)===!1)return e;f("filters",t);return e}function f(e,t){n[e][t]&&(n[e][t]=[])}function l(e){if(typeof e!="string")return!1;var t=e.replace(/^\s+|\s+$/i,"").split("."),n=t.shift();t=t.join(".");return n!==""&&t!==""}function c(e,t,r,i){var s={callback:r,priority:i},o=n[e][t];if(o){o.push(s);o=h(o)}else o=[s];n[e][t]=o}function h(e){var t,n,r;for(var i=1,s=e.length;i<s;i++){t=e[i];n=i;while((r=e[n-1])&&r.priority>t.priority){e[n]=e[n-1];--n}e[n]=t}return e}function p(e,r,i){var s=n[e][r];if(typeof s=="undefined")return e==="filters"?i[0]:!1;for(var o=0,u=s.length;o<u;o++)e==="actions"?s[o].callback.apply(t,i):i[0]=s[o].callback.apply(t,i);return e==="actions"?!0:i[0]}var e={removeFilter:a,applyFilters:u,addFilter:o,removeAction:s,doAction:i,addAction:r},n={actions:{},filters:{}};return e};e.wp=e.wp||{};e.wp.hooks=new r})(window);var acf={l10n:{},o:{},get:null,update:null,_e:null,get_atts:null,get_fields:null,get_uniqid:null,serialize_form:null,add_action:null,remove_action:null,do_action:null,add_filter:null,remove_filtern:null,apply_filters:null,helpers:{is_clone_field:null},validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};(function(e){e.extend(acf,{update:function(e,t){this.o[e]=t},get:function(e){return this.o[e]||null},_e:function(e,t){t=t||!1;var n=this.l10n[e]||!1;t&&(n=n[t]||!1);return n||""},get_atts:function(t){var n={};t.exists()&&e.each(t[0].attributes,function(t,r){if(r.name.substr(0,5)=="data-"){var i=r.value,s=r.name.replace("data-","");e.isNumeric(i)&&(i=parseInt(i));n[s]=i}});return n},get_fields:function(t,n,r){t=t||{};n=n||e("body");r=r||!0;var i=".acf-field";e.each(t,function(e,t){i+="[data-"+e+'="'+t+'"]'});var s=n.find(i);r&&(s=s.filter(function(){return acf.apply_filters("is_field_ready_for_js",!0,e(this))}));return s},get_field:function(t,n){n=n||e("body");$fields=this.get_fields({key:t},n);return $fields.exists()?$fields.first():!1},is_field:function(e){return e.hasClass("acf-field")?!0:!1},is_field_type:function(e,t){return this.is_field(e)?e.attr("data-type")!==t?!1:!0:!1},is_field_name:function(e,t){return this.is_field(e)?e.attr("data-name")!==t?!1:!0:!1},is_field_key:function(e,t){return this.is_field(e)?e.attr("data-key")!==t?!1:!0:!1},get_uniqid:function(e,t){typeof e=="undefined"&&(e="");var n,r=function(e,t){e=parseInt(e,10).toString(16);return t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};this.php_js||(this.php_js={});this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(Math.random()*123456789));this.php_js.uniqidSeed++;n=e;n+=r(parseInt((new Date).getTime()/1e3,10),8);n+=r(this.php_js.uniqidSeed,5);t&&(n+=(Math.random()*10).toFixed(8).toString());return n},serialize_form:function(t){var n={},r={};$selector=t.find("select, textarea, input");e.each($selector.serializeArray(),function(e,t){if(t.name.slice(-2)==="[]"){t.name=t.name.replace("[]","");typeof r[t.name]=="undefined"&&(r[t.name]=-1);r[t.name]++;t.name+="["+r[t.name]+"]"}n[t.name]=t.value});return n},remove_tr:function(e,t){var n=e.height(),r=e.children().length;e.addClass("acf-remove-element");setTimeout(function(){e.removeClass("acf-remove-element");e.html('<td style="padding:0; height:'+n+'px" colspan="'+r+'"></td>');e.children("td").animate({height:0},250,function(){e.remove();typeof t=="function"&&t()})},250)},remove_el:function(t,n){t.css({height:t.height(),width:t.width(),position:"absolute",padding:0});t.wrap('<div class="acf-temp-wrap" style="height:'+t.outerHeight(!0)+'px"></div>');t.animate({opacity:0},250);t.parent(".acf-temp-wrap").animate({height:0},250,function(){e(this).remove();typeof n=="function"&&n()})},isset_object:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();for(var n=0;n<e.length;n++){if(!t.hasOwnProperty(e[n]))return!1;t=t[e[n]]}return!0}});e.extend(acf,{add_action:function(){var e=arguments[0].split(" ");for(k in e){arguments[0]="acf."+e[k];wp.hooks.addAction.apply(this,arguments)}return this},remove_action:function(){arguments[0]="acf."+arguments[0];wp.hooks.removeAction.apply(this,arguments);return this},do_action:function(){arguments[0]="acf."+arguments[0];wp.hooks.doAction.apply(this,arguments);return this},add_filter:function(){arguments[0]="acf."+arguments[0];wp.hooks.addFilter.apply(this,arguments);return this},remove_filter:function(){arguments[0]="acf."+arguments[0];wp.hooks.removeFilter.apply(this,arguments);return this},apply_filters:function(){arguments[0]="acf."+arguments[0];return wp.hooks.applyFilters.apply(this,arguments)}});acf.add_filter("is_field_ready_for_js",function(e,t){t.parents('.acf-row[data-id="acfcloneindex"]').exists()&&(e=!1);t.parents("#available-widgets").exists()&&(e=!1);return e});acf.helpers.is_clone_field=function(e){return e.attr("name")&&e.attr("name").indexOf("[acfcloneindex]")!=-1?!0:!1};e.fn.exists=function(){return e(this).length>0};e.fn.outerHTML=function(){return e(this).clone().wrap("<div>").parent().html()};acf.media={div:null,frame:null,render_timout:null,clear_frame:function(){if(!this.frame)return;this.frame.detach();this.frame.dispose();this.frame=null},type:function(){var e="thickbox";typeof wp=="object"&&(e="backbone");return e},init:function(){if(typeof wp.media=="undefined")return!1;var t=wp.media.view.AttachmentCompat.prototype;t.orig_render=t.render;t.orig_dispose=t.dispose;t.className="compat-item acf_postbox no_box";t.render=function(){var t=this;if(t.ignore_render)return this;this.orig_render();setTimeout(function(){var n=t.$el.closest(".media-modal");if(n.hasClass("acf-media-modal"))return;if(n.find(".media-frame-router .acf-expand-details").exists())return;var r=e(['<a href="#" class="acf-expand-details">','<span class="icon"></span>','<span class="is-closed">'+acf.l10n.core.expand_details+"</span>",'<span class="is-open">'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));r.on("click",function(e){e.preventDefault();n.hasClass("acf-expanded")?n.removeClass("acf-expanded"):n.addClass("acf-expanded")});n.find(".media-frame-router").append(r)},0);clearTimeout(acf.media.render_timout);acf.media.render_timout=setTimeout(function(){e(document).trigger("acf/setup_fields",[t.$el])},50);return this};t.dispose=function(){e(document).trigger("acf/remove_fields",[this.$el]);this.orig_dispose()};t.save=function(e){var t={},n={};e&&e.preventDefault();_.each(this.$el.serializeArray(),function(e){if(e.name.slice(-2)==="[]"){e.name=e.name.replace("[]","");typeof n[e.name]=="undefined"&&(n[e.name]=-1);n[e.name]++;e.name+="["+n[e.name]+"]"}t[e.name]=e.value});this.ignore_render=!0;this.model.saveCompat(t)}}};acf.conditional_logic={items:[],init:function(){var t=this;e(document).on("change",".field input, .field textarea, .field select",function(){e("#acf-has-changed").exists()&&e("#acf-has-changed").val(1);t.change()});t.change()},change:function(){var t=this;e.each(this.items,function(n,r){var i=e(".field_key-"+r.field);i.each(function(){var n=!0;r.allorany=="any"&&(n=!1);var i=e(this),s=!0;e.each(r.rules,function(o,u){var a=e(".field_key-"+u.field);if(a.hasClass("sub_field")){a=i.siblings(".field_key-"+u.field);s=!1;if(!a.exists()){i.parents("tr").each(function(){a=e(this).find(".field_key-"+u.field);if(a.exists())return!1});s=!0}}var f=i.parent("tr").parent().parent("table").parent(".layout");if(f.exists()){s=!0;i.is("th")&&a.is("th")&&(a=i.closest(".layout").find("td.field_key-"+u.field))}var f=i.parent("tr").parent().parent("table").parent(".repeater");if(f.exists()&&f.attr("data-max_rows")=="1"){s=!0;i.is("th")&&a.is("th")&&(a=i.closest("table").find("td.field_key-"+u.field))}var l=t.calculate(u,a,i);if(r.allorany=="all"){if(l==0){n=!1;return!1}}else if(l==1){n=!0;return!1}});i.removeClass("acf-conditional_logic-hide acf-conditional_logic-show acf-show-blank");if(n){i.find("input, textarea, select").removeAttr("disabled");i.addClass("acf-conditional_logic-show");e(document).trigger("acf/conditional_logic/show",[i,r])}else{i.find("input, textarea, select").attr("disabled","disabled");i.addClass("acf-conditional_logic-hide");s||i.addClass("acf-show-blank");e(document).trigger("acf/conditional_logic/hide",[i,r])}})})},calculate:function(t,n,r){var i=!1;if(n.hasClass("field_type-true_false")||n.hasClass("field_type-checkbox")||n.hasClass("field_type-radio")){var s=n.find('input[value="'+t.value+'"]:checked').exists();t.operator=="=="?s&&(i=!0):s||(i=!0)}else{var o=n.find("input, textarea, select").last().val();e.isArray(o)||(o=[o]);t.operator=="=="?e.inArray(t.value,o)>-1&&(i=!0):e.inArray(t.value,o)<0&&(i=!0)}return i}};e(document).ready(function(){acf.do_action("ready",e("body"));acf.conditional_logic.init()});e(window).load(function(){acf.do_action("load",e("body"));acf.media.init();setTimeout(function(){try{e.isNumeric(acf.o.post_id)&&(wp.media.view.settings.post.id=acf.o.post_id)}catch(t){}},10)});acf.add_action("sortstart",function(t,n){if(t.is("tr")){t.css("position","relative");t.children().each(function(){e(this).width(e(this).width())});t.css("position","absolute");n.html('<td style="height:'+t.height()+'px; padding:0;" colspan="'+t.children("td").length+'"></td>')}})})(jQuery);(function(e){acf.ajax={o:{action:"acf/post/get_field_groups",post_id:0,page_template:0,page_parent:0,page_type:0,post_category:0,post_format:0,post_taxonomy:0,lang:0,nonce:0},update:function(e,t){this.o[e]=t;return this},get:function(e){return this.o[e]||null},init:function(){if(!acf.get("ajax"))return!1;this.update("post_id",acf.o.post_id);this.update("nonce",acf.o.nonce);if(e("#icl-als-first").length>0){var t=e("#icl-als-first").children("a").attr("href"),n=new RegExp("lang=([^&#]*)"),r=n.exec(t);this.update("lang",r[1])}this.add_events()},fetch:function(){var t=this;e.ajax({url:acf.get("ajaxurl"),data:this.o,type:"post",dataType:"json",success:function(e){_.isObject(e)&&t.render(e)}})},render:function(t){e(".acf-postbox").addClass("acf-hidden");e(".acf-postbox-toggle").addClass("acf-hidden");e.each(t,function(t,n){var r=e("#acf-"+n.ID),i=e('#adv-settings .acf_postbox-toggle[for="acf-'+n.ID+'-hide"]');r.removeClass("acf-hidden hide-if-js");i.removeClass("acf-hidden");i.find('input[type="checkbox"]').attr("checked","checked");r.find(".acf-replace-with-fields").each(function(){e(this).replaceWith(n.html);e(document).trigger("acf/setup_fields",[r])});t===0&&e("#acf-style").html(n.style)})},add_events:function(){var t=this;e(document).on("change","#page_template",function(){var n=e(this).val();t.update("page_template",n).fetch()});e(document).on("change","#parent_id",function(){var n="parent",r=0;if(val!=""){n="child";r=e(this).val()}t.update("page_type",n).update("page_parent",r).fetch()});e(document).on("change",'#post-formats-select input[type="radio"]',function(){var n=e(this).val();n=="0"&&(n="standard");t.update("post_format",n).fetch()});e(document).on("change",'.categorychecklist input[type="checkbox"]',function(){if(e(this).closest(".categorychecklist").hasClass("no-ajax"))return;setTimeout(function(){var n=[];e('.categorychecklist input[type="checkbox"]:checked').each(function(){if(e(this).is(":hidden")||e(this).is(":disabled"))return;e.inArray(e(this).val(),n)<0&&n.push(e(this).val())});t.update("post_taxonomy",n).fetch()},1)})}};e(document).ready(function(){acf.ajax.init()})})(jQuery);(function(e){acf.fields.color_picker={$el:null,$input:null,set:function(t){e.extend(this,t);this.$input=this.$el.find('input[type="text"]');return this},init:function(){this.$input.wpColorPicker()}};acf.add_action("ready append",function(t){acf.get_fields({type:"color_picker"},t).each(function(){acf.fields.color_picker.set({$el:e(this)}).init()})})})(jQuery);(function(e){acf.fields.date_picker={$el:null,$input:null,$hidden:null,o:{},set:function(t){e.extend(this,t);this.$input=this.$el.find('input[type="text"]');this.$hidden=this.$el.find('input[type="hidden"]');this.o=acf.get_atts(this.$el);return this},init:function(){this.$input.val(this.$hidden.val());var t=e.extend({},acf.l10n.date_picker,{dateFormat:this.o.save_format,altField:this.$hidden,altFormat:this.o.save_format,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.o.first_day});t=acf.apply_filters("date_picker_args",t);this.$input.addClass("active").datepicker(t);this.$input.datepicker("option","dateFormat",this.o.display_format);e("body > #ui-datepicker-div").length>0&&e("#ui-datepicker-div").wrap('<div class="ui-acf" />')},blur:function(){this.$input.val()||this.$hidden.val("")}};acf.add_action("ready append",function(t){acf.get_fields({type:"date_picker"},t).each(function(){acf.fields.date_picker.set({$el:e(this)}).init()})});e(document).on("blur",'.acf-date_picker input[type="text"]',function(t){acf.fields.date_picker.set({$el:e(this).closest(".acf-field")}).blur()})})(jQuery);(function(e){var t=acf.media;acf.fields.file={$el:null,$input:null,o:{},set:function(t){e.extend(this,t);this.$input=this.$el.find('input[type="hidden"]');this.o=acf.get_atts(this.$el);this.o.multiple=this.$el.closest(".repeater").exists()?!0:!1;this.o.query={};this.o.library=="uploadedTo"&&(this.o.query.uploadedTo=acf.o.post_id);return this},add:function(e){var n=t.div;n.find(".acf-file-icon").attr("src",e.icon);n.find(".acf-file-title").text(e.title);n.find(".acf-file-name").text(e.name).attr("href",e.url);n.find(".acf-file-size").text(e.size);n.find(".acf-file-value").val(e.id).trigger("change");n.addClass("active");n.closest(".field").removeClass("error")},edit:function(){var n=this.$input.val();t.div=this.$el;t.clear_frame();t.frame=wp.media({title:acf.l10n.file.edit,multiple:!1,button:{text:acf.l10n.file.update}});t.frame.on("open",function(){t.frame.content._mode!="browse"&&t.frame.content.mode("browse");t.frame.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var r=t.frame.state().get("selection"),i=wp.media.attachment(n);e.isEmptyObject(i.changed)&&i.fetch();r.add(i)});t.frame.on("close",function(){t.frame.$el.closest(".media-modal").removeClass("acf-media-modal")});acf.media.frame.open()},remove:function(){this.$el.find(".acf-file-icon").attr("src","");this.$el.find(".acf-file-title").text("");this.$el.find(".acf-file-name").text("").attr("href","");this.$el.find(".acf-file-size").text("");this.$el.find(".acf-file-value").val("").trigger("change");this.$el.removeClass("active")},popup:function(){var n=this;t.div=this.$el;t.clear_frame();t.frame=wp.media({states:[new wp.media.controller.Library({library:wp.media.query(n.o.query),multiple:n.o.multiple,title:acf.l10n.file.select,priority:20,filterable:"all"})]});acf.media.frame.on("content:activate",function(){var t=null,r=null;try{t=acf.media.frame.content.get().toolbar;r=t.get("filters")}catch(i){}if(!r)return!1;if(n.o.library=="uploadedTo"){r.$el.find('option[value="uploaded"]').remove();r.$el.after("<span>"+acf.l10n.file.uploadedTo+"</span>");e.each(r.filters,function(e,t){t.props.uploadedTo=acf.o.post_id})}});acf.media.frame.on("select",function(){selection=t.frame.state().get("selection");if(selection){var e=0;selection.each(function(n){e++;if(e>1){var r=t.div.closest("td"),s=r.closest(".row"),o=s.closest(".repeater"),u=r.attr("data-field_key"),a="td .acf-file-uploader:first";u&&(a='td[data-field_key="'+u+'"] .acf-file-uploader');s.next(".row").exists()||o.find(".add-row-end").trigger("click");t.div=s.next(".row").find(a)}var f={id:n.id,title:n.attributes.title,name:n.attributes.filename,url:n.attributes.url,icon:n.attributes.icon,size:n.attributes.filesize};acf.fields.file.add(f)})}});acf.media.frame.open();return!1}};e(document).on("click",".acf-file-uploader .acf-button-edit",function(t){t.preventDefault();acf.fields.file.set({$el:e(this).closest(".acf-file-uploader")}).edit()});e(document).on("click",".acf-file-uploader .acf-button-delete",function(t){t.preventDefault();acf.fields.file.set({$el:e(this).closest(".acf-file-uploader")}).remove()});e(document).on("click",".acf-file-uploader .add-file",function(t){t.preventDefault();acf.fields.file.set({$el:e(this).closest(".acf-file-uploader")}).popup()})})(jQuery);(function(e){acf.fields.location={$el:null,$input:null,o:{},ready:!1,geocoder:!1,map:!1,maps:{},set:function(t){e.extend(this,t);this.$input=this.$el.find(".value");this.o=acf.get_atts(this.$el);this.maps[this.o.id]&&(this.map=this.maps[this.o.id]);return this},init:function(){this.geocoder||(this.geocoder=new google.maps.Geocoder);this.ready=!0;this.render()},render:function(){var e=this,t=this.$el,n={zoom:parseInt(this.o.zoom),center:new google.maps.LatLng(this.o.lat,this.o.lng),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.$el.find(".canvas")[0],n);var r=new google.maps.places.Autocomplete(this.$el.find(".search")[0]);r.map=this.map;r.bindTo("bounds",this.map);this.map.marker=new google.maps.Marker({draggable:!0,raiseOnDrag:!0,map:this.map});this.map.$el=this.$el;var i=this.$el.find(".input-lat").val(),s=this.$el.find(".input-lng").val();i&&s&&this.update(i,s).center();google.maps.event.addListener(r,"place_changed",function(t){var n=this.map.$el,r=n.find(".search").val();n.find(".input-address").val(r);n.find(".title h4").text(r);var i=this.getPlace();if(i.geometry){var s=i.geometry.location.lat(),o=i.geometry.location.lng();e.set({$el:n}).update(s,o).center()}else e.geocoder.geocode({address:r},function(t,r){if(r!=google.maps.GeocoderStatus.OK){console.log("Geocoder failed due to: "+r);return}if(!t[0]){console.log("No results found");return}i=t[0];var s=i.geometry.location.lat(),o=i.geometry.location.lng();e.set({$el:n}).update(s,o).center()})});google.maps.event.addListener(this.map.marker,"dragend",function(){var t=this.map.$el,n=this.map.marker.getPosition(),r=n.lat(),i=n.lng();e.set({$el:t}).update(r,i).sync()});google.maps.event.addListener(this.map,"click",function(t){var n=this.$el,r=t.latLng.lat(),i=t.latLng.lng();e.set({$el:n}).update(r,i).sync()});this.maps[this.o.id]=this.map},update:function(e,t){var n=new google.maps.LatLng(e,t);this.$el.find(".input-lat").val(e);this.$el.find(".input-lng").val(t).trigger("change");this.map.marker.setPosition(n);this.map.marker.setVisible(!0);this.$el.addClass("active");this.$el.closest(".acf-field").removeClass("error");return this},center:function(){var e=this.map.marker.getPosition(),t=this.o.lat,n=this.o.lng;if(e){t=e.lat();n=e.lng()}var r=new google.maps.LatLng(t,n);this.map.setCenter(r)},sync:function(){var e=this.$el,t=this.map.marker.getPosition(),n=new google.maps.LatLng(t.lat(),t.lng());this.geocoder.geocode({latLng:n},function(t,n){if(n!=google.maps.GeocoderStatus.OK){console.log("Geocoder failed due to: "+n);return}if(!t[0]){console.log("No results found");return}var r=t[0];e.find(".title h4").text(r.formatted_address);e.find(".input-address").val(r.formatted_address).trigger("change")});return this},locate:function(){var e=this,t=this.$el;if(!navigator.geolocation){alert(acf.l10n.google_map.browser_support);return this}t.find(".title h4").text(acf.l10n.google_map.locating+"...");t.addClass("active");navigator.geolocation.getCurrentPosition(function(n){var r=n.coords.latitude,i=n.coords.longitude;e.set({$el:t}).update(r,i).sync().center()})},clear:function(){this.$el.removeClass("active");this.$el.find(".search").val("");this.$el.find(".input-address").val("");this.$el.find(".input-lat").val("");this.$el.find(".input-lng").val("");this.map.marker.setVisible(!1)},edit:function(){this.$el.removeClass("active");var e=this.$el.find(".title h4").text();this.$el.find(".search").val(e).focus()},refresh:function(){google.maps.event.trigger(this.map,"resize");this.center()}};acf.add_action("ready append",function(t){var n=acf.get_fields({type:"google_map"},t);if(!n.exists())return;typeof google=="undefined"?e.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:"sensor=false&libraries=places",callback:function(){n.each(function(){acf.fields.location.set({$el:e(this).find(".acf-google-map")}).init()})}})}):n.each(function(){acf.fields.location.set({$el:e(this).find(".acf-google-map")}).init()})});e(document).on("click",".acf-google-map .acf-sprite-remove",function(t){t.preventDefault();acf.fields.location.set({$el:e(this).closest(".acf-google-map")}).clear();e(this).blur()});e(document).on("click",".acf-google-map .acf-sprite-locate",function(t){t.preventDefault();acf.fields.location.set({$el:e(this).closest(".acf-google-map")}).locate();e(this).blur()});e(document).on("click",".acf-google-map .title h4",function(t){t.preventDefault();acf.fields.location.set({$el:e(this).closest(".acf-google-map")}).edit()});e(document).on("keydown",".acf-google-map .search",function(e){if(e.which==13)return!1});e(document).on("blur",".acf-google-map .search",function(t){var n=e(this).closest(".acf-google-map");n.find(".input-lat").val()&&n.addClass("active")});acf.add_action("show_field",function(e){if(!acf.fields.google_map.ready)return;acf.is_field_type(e,"google_map")&&acf.fields.google_map.set({$el:e.find(".acf-google-map")}).refresh()})})(jQuery);(function(e){var t=acf.media;acf.fields.image={$el:null,$input:null,o:{},set:function(t){e.extend(this,t);this.$input=this.$el.find('input[type="hidden"]');this.o=acf.get_atts(this.$el);this.o.multiple=this.$el.closest(".repeater").exists()?!0:!1;this.o.query={type:"image"};this.o.library=="uploadedTo"&&(this.o.query.uploadedTo=acf.o.post_id);return this},add:function(e){var n=t.div;n.find(".acf-image-image").attr("src",e.url);n.find(".acf-image-value").val(e.id).trigger("change");n.addClass("active");n.closest(".field").removeClass("error")},edit:function(){var n=this.$input.val();t.div=this.$el;t.clear_frame();t.frame=wp.media({title:acf.l10n.image.edit,multiple:!1,button:{text:acf.l10n.image.update}});t.frame.on("open",function(){t.frame.content._mode!="browse"&&t.frame.content.mode("browse");t.frame.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var r=t.frame.state().get("selection"),i=wp.media.attachment(n);e.isEmptyObject(i.changed)&&i.fetch();r.add(i)});t.frame.on("close",function(){t.frame.$el.closest(".media-modal").removeClass("acf-media-modal")});acf.media.frame.open()},remove:function(){this.$el.find(".acf-image-image").attr("src","");this.$el.find(".acf-image-value").val("").trigger("change");this.$el.removeClass("active")},popup:function(){var n=this;t.div=this.$el;t.clear_frame();t.frame=wp.media({states:[new wp.media.controller.Library({library:wp.media.query(n.o.query),multiple:n.o.multiple,title:acf.l10n.image.select,priority:20,filterable:"all"})]});acf.media.frame.on("content:activate",function(){var t=null,r=null;try{t=acf.media.frame.content.get().toolbar;r=t.get("filters")}catch(i){}if(!r)return!1;e.each(r.filters,function(e,t){t.props.type="image"});if(n.o.library=="uploadedTo"){r.$el.find('option[value="uploaded"]').remove();r.$el.after("<span>"+acf.l10n.image.uploadedTo+"</span>");e.each(r.filters,function(e,t){t.props.uploadedTo=acf.o.post_id})}r.$el.find("option").each(function(){var t=e(this).attr("value");if(t=="uploaded"&&n.o.library=="all")return;t.indexOf("image")===-1&&e(this).remove()});r.$el.val("image").trigger("change")});acf.media.frame.on("select",function(){selection=t.frame.state().get("selection");if(selection){var e=0;selection.each(function(r){e++;if(e>1){var s=t.div.closest("td"),o=s.closest(".row"),u=o.closest(".repeater"),a=s.attr("data-field_key"),f="td .acf-image-uploader:first";a&&(f='td[data-field_key="'+a+'"] .acf-image-uploader');o.next(".row").exists()||u.find(".add-row-end").trigger("click");t.div=o.next(".row").find(f)}var l={id:r.id,url:r.attributes.url};r.attributes.sizes&&r.attributes.sizes[n.o.preview_size]&&(l.url=r.attributes.sizes[n.o.preview_size].url);acf.fields.image.add(l)})}});acf.media.frame.open();return!1},text:{title_add:"Select Image",title_edit:"Edit Image"}};e(document).on("click",".acf-image-uploader .acf-button-edit",function(t){t.preventDefault();acf.fields.image.set({$el:e(this).closest(".acf-image-uploader")}).edit()});e(document).on("click",".acf-image-uploader .acf-button-delete",function(t){t.preventDefault();acf.fields.image.set({$el:e(this).closest(".acf-image-uploader")}).remove()});e(document).on("click",".acf-image-uploader .add-image",function(t){t.preventDefault();acf.fields.image.set({$el:e(this).closest(".acf-image-uploader")}).popup()})})(jQuery);(function(e){acf.fields.post_object={$el:null,$select:null,$input:null,o:{},set:function(t){e.extend(this,t);this.$select=this.$el.find("select");this.o=acf.get_atts(this.$select);return this},init:function(){var t=[],n=[];this.$select.find("option:selected").each(function(){t.push({id:e(this).attr("value"),text:e(this).text()});n.push(e(this).attr("value"))});if(this.o.multiple){var r=this.$select.attr("name").replace("[]","");this.$select.attr("name",r)}else t=t[0];var i='<input type="hidden" name="%name%" id="%id%" value="%value%" />';i=i.replace("%name%",this.$select.attr("name"));i=i.replace("%id%",this.$select.attr("id"));i=i.replace("%value%",n.join(","));this.$input=e(i);this.$select.replaceWith(this.$input);var s={action:"acf/fields/post_object/query",field_key:this.$el.attr("data-key"),nonce:acf.get("nonce"),post_id:acf.get("post_id")},o={width:"100%",placeholder:this.o.placeholder,allowClear:1,multiple:this.o.multiple,ajax:{url:acf.get("ajaxurl"),dataType:"json",type:"get",cache:!0,data:function(e,t){s.s=e;return s},results:function(e,t){return{results:e}}},initSelection:function(e,n){n(t)}};this.$input.select2(o);var u=this;this.o.sortable&&this.$input.select2("container").find("ul.select2-choices").sortable({containment:"parent",start:function(){u.$input.select2("onSortStart")},update:function(){u.$input.select2("onSortEnd")}})}};acf.add_action("ready append",function(t){acf.get_fields({type:"post_object"},t).each(function(){acf.fields.post_object.set({$el:e(this)}).init()})})})(jQuery);(function(e){acf.fields.radio={$el:null,$input:null,$other:null,set:function(t){e.extend(this,t);this.$input=this.$el.find('input[type="radio"]:checked');this.$other=this.$el.find('input[type="text"]');return this},change:function(){this.$el.find("li").removeClass("active");this.$input.closest("li").addClass("active");if(this.$input.val()=="other"){this.$other.attr("name",this.$input.attr("name"));this.$other.show()}else{this.$other.attr("name","");this.$other.hide()}}};e(document).on("change",'.acf-radio-list input[type="radio"]',function(t){acf.fields.radio.set({$el:e(this).closest(".acf-radio-list")}).change()})})(jQuery);(function(e){acf.fields.relationship={$el:null,$wrap:null,$input:null,$filters:null,$choices:null,$values:null,o:{},set:function(t){e.extend(this,t);this.$wrap=this.$el.find(".acf-relationship");this.$input=this.$wrap.find(".acf-hidden input");this.$choices=this.$wrap.find(".choices"),this.$values=this.$wrap.find(".values");this.o=acf.get_atts(this.$wrap);return this},init:function(){var e=this;this.$values.children(".list").sortable({items:"li",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,update:function(){e.$input.trigger("change")}});this.fetch()},fetch:function(){var t=this,n=this.$el;this.$choices.children(".list").html("<p>"+acf._e("relationship","loading")+"...</p>");var r={action:"acf/fields/relationship/query",field_key:this.$el.attr("data-key"),nonce:acf.get("nonce"),post_id:acf.get("post_id")};e.extend(r,this.o);this.$el.data("xhr")&&this.$el.data("xhr").abort();var i=e.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"get",cache:!0,data:r,success:function(e){t.set({$el:n}).render(e)}});this.$el.data("xhr",i)},render:function(t){var n=this;if(!t||!t.length){this.$choices.children(".list").html("<li><p>"+acf._e("relationship","empty")+"</p></li>");return}this.$choices.children(".list").html(this.walker(t));this.$values.find(".acf-relationship-item").each(function(){var t=e(this).attr("data-id");n.$choices.find('.acf-relationship-item[data-id="'+t+'"]').addClass("disabled")});if(this.o.s){var r=this.o.s;this.$choices.find('.acf-relationship-item:contains("'+r+'")').each(function(){var t=e(this).html().replace(r,'<span class="match">'+r+"</span>");e(this).html(t)})}},walker:function(t){var n="";if(e.isArray(t))for(var r in t)n+=this.walker(t[r]);else if(e.isPlainObject(t))if(t.children!==undefined){n+='<li><span class="acf-relationship-label">'+t.text+'</span><ul class="acf-bl">';n+=this.walker(t.children);n+="</ul></li>"}else n+='<li><span class="acf-relationship-item" data-id="'+t.id+'">'+t.text+"</span></li>";return n},add:function(e){if(this.o.max>0&&this.$values.find(".acf-relationship-item").length>=this.o.max){alert(acf.l10n.relationship.max.replace("{max}",this.o.max));return!1}if(e.hasClass("disabled"))return!1;e.addClass("disabled");var t={value:e.attr("data-id"),text:e.html(),name:this.$input.attr("name")},n=_.template(acf.l10n.relationship.tmpl_li,t);this.$values.children(".list").append(n);this.$input.trigger("change");this.$el.removeClass("error")},remove:function(e){var t=e.attr("data-id");e.parent("li").remove();this.$choices.find('.acf-relationship-item[data-id="'+t+'"]').removeClass("disabled");this.$input.trigger("change")}};acf.add_action("ready append",function(t){acf.get_fields({type:"relationship"},t).each(function(){acf.fields.relationship.set({$el:e(this)}).init()})});e(document).on("keypress",".acf-relationship .filters [data-filter]",function(e){e.which==13&&e.preventDefault()});e(document).on("change keyup",".acf-relationship .filters [data-filter]",function(t){var n=e(this).val(),r=e(this).attr("data-filter"),i=e(this).closest(".acf-relationship");$el=i.closest(".acf-field");if(i.attr("data-"+r)==n)return;i.attr("data-"+r,n);acf.fields.relationship.set({$el:$el}).fetch()});e(document).on("click",".acf-relationship .choices .acf-relationship-item",function(t){t.preventDefault();acf.fields.relationship.set({$el:e(this).closest(".acf-field")}).add(e(this));e(this).blur()});e(document).on("click",".acf-relationship .values .acf-icon",function(t){t.preventDefault();acf.fields.relationship.set({$el:e(this).closest(".acf-field")}).remove(e(this).closest(".acf-relationship-item"));e(this).blur()})})(jQuery);(function(e){acf.fields.select={$el:null,$select:null,o:{},set:function(t){e.extend(this,t);this.$select=this.$el.find("select");this.o=acf.get_atts(this.$select);return this},init:function(){if(!this.o.ui)return;var e={width:"100%",allowClear:this.o.allow_null,placeholder:this.o.placeholder};this.o.allow_null&&this.$select.find('option[value=""]').remove();this.$select.select2(e)}};acf.add_action("ready append",function(t){acf.get_fields({type:"select"},t).each(function(){acf.fields.select.set({$el:e(this)}).init()});acf.get_fields({type:"user"},t).each(function(){acf.fields.select.set({$el:e(this)}).init()})})})(jQuery);(function(e){acf.fields.tab={add_group:function(e){var t="";e.is("tbody")?t='<tr class="acf-tab-wrap"><td colspan="2"><ul class="hl clearfix acf-tab-group"></ul></td></tr>':t='<div class="acf-tab-wrap"><ul class="hl clearfix acf-tab-group"></ul></div>';e.children(".field_type-tab:first").before(t)},add_tab:function(e){var t=e.closest(".field"),n=t.parent(),r=t.attr("data-field_key"),i=e.text();n.children(".acf-tab-wrap").exists()||this.add_group(n);n.children(".acf-tab-wrap").find(".acf-tab-group").append('<li><a class="acf-tab-button" href="#" data-key="'+r+'">'+i+"</a></li>")},toggle:function(t){var n=this,r=t.closest(".acf-tab-wrap").parent(),i=t.attr("data-key");t.parent("li").addClass("active").siblings("li").removeClass("active");acf.get_fields({type:"tab"},r).each(function(){var t=e(this),r=!1;acf.is_field_key(e(this),i)?n.show_tab_fields(e(this)):n.hide_tab_fields(e(this))})},show_tab_fields:function(t){t.nextUntil('.acf-field[data-type="tab"]').each(function(){e(this).removeClass("hidden_by_tab");acf.do_action("show_field",e(this))})},hide_tab_fields:function(t){t.nextUntil('.acf-field[data-type="tab"]').each(function(){e(this).addClass("hidden_by_tab");acf.do_action("hide_field",e(this))})},refresh:function(t){var n=this;t.find(".acf-tab-group .acf-tab-button:first").each(function(
){n.toggle(e(this))});acf.conditional_logic.change()}};acf.add_action("ready append",function(t){acf.get_fields({type:"tab"},t).each(function(){acf.fields.tab.add_tab(e(this))});acf.fields.tab.refresh(t)});e(document).on("click",".acf-tab-button",function(t){t.preventDefault();acf.fields.tab.toggle(e(this));e(this).trigger("blur")});acf.add_action("hide_field",function(e){if(!acf.is_field_type(e,"tab"))return;var t=e.siblings(".acf-tab-wrap").find('a[data-key="'+e.attr("data-key")+'"]');t.parent().siblings(":visible").exists()?t.parent().siblings(":visible").first().children("a").trigger("click"):acf.fields.tab.hide_tab_fields(e)});acf.add_action("show_field",function(e){if(!acf.is_field_type(e,"tab"))return;var t=e.siblings(".acf-tab-wrap").find('a[data-key="'+e.attr("data-key")+'"]');if(t.parent().hasClass("active")){t.trigger("click");return}if(t.parent().siblings(".active").hasClass("acf-conditional_logic-hide")){t.trigger("click");return}})})(jQuery);(function(e){acf.validation={active:1,ignore:0,error_class:"error",message_class:"acf-error-message",$trigger:null,init:function(){if(this.active==0)return;this.add_events()},add_error:function(e,t){e.addClass(this.error_class);if(t!==undefined){e.children(".acf-input").children("."+this.message_class).remove();e.children(".acf-input").prepend('<div class="'+this.message_class+'"><p>'+t+"</p></div>")}acf.do_action("add_field_error",e)},remove_error:function(e){$message=e.children(".acf-input").children("."+this.message_class);e.removeClass(this.error_class);setTimeout(function(){acf.remove_el($message)},250);acf.do_action("remove_field_error",e)},fetch:function(t){var n=this,r=acf.serialize_form(t);r.action="acf/validate_save_post";e.ajax({url:acf.get("ajaxurl"),data:r,type:"post",dataType:"json",success:function(e){n.complete(t,e)}})},complete:function(t,n){var r=this;t.children("."+this.message_class).remove();if(!n||n.result==1){t.find(".acf-postbox:hidden").remove();this.ignore=1;this.$trigger?this.$trigger.click():t.submit();return}if(e("#submitdiv").exists()){e("#save-post").removeClass("button-disabled");e("#publish").removeClass("button-primary-disabled");e("#ajax-loading").removeAttr("style");e("#publishing-action .spinner").hide()}t.prepend('<div class="'+this.message_class+'"><p>'+n.message+"</p></div>");e.each(n.errors,function(t,n){var i=e('.acf-field[data-key="'+t+'"]');r.add_error(i,n)})},add_events:function(){var t=this;e(document).on("focus click change",".acf-field.required input, .acf-field.required textarea, .acf-field.required select",function(n){t.remove_error(e(this).closest(".acf-field"))});e(document).on("click","#save-post",function(){t.ignore=1;t.$trigger=e(this)});e(document).on("click","#publish",function(){t.$trigger=e(this)});e(document).on("submit","form",function(n){if(!e(this).find("#acf-form-data").exists())return!0;if(t.ignore==1){t.ignore=0;return!0}if(t.active==0)return!0;n.preventDefault();t.fetch(e(this))})}};acf.add_action("ready",function(){})})(jQuery);(function(e){acf.fields.wysiwyg={$el:null,$textarea:null,o:{},set:function(t){e.extend(this,t);this.$textarea=this.$el.find("textarea");this.o=acf.get_atts(this.$el);this.o.id=this.$textarea.attr("id");return this},has_tinymce:function(){var e=!1;typeof tinyMCE=="object"&&(e=!0);return e},init:function(){var t=e.extend({},tinyMCE.settings);tinyMCE.settings.theme_advanced_buttons1="";tinyMCE.settings.theme_advanced_buttons2="";tinyMCE.settings.theme_advanced_buttons3="";tinyMCE.settings.theme_advanced_buttons4="";acf.isset_object(this.toolbars,this.o.toolbar)&&e.each(this.toolbars[this.o.toolbar],function(e,t){tinyMCE.settings[e]=t});tinyMCE.settings=acf.apply_filters("wysiwyg_tinymce_settings",tinyMCE.settings,this.o.id);tinyMCE.execCommand("mceAddControl",!1,this.o.id);this.add_events();tinyMCE.settings=t;wpActiveEditor=null},add_events:function(){var t=this.o.id,n=tinyMCE.get(t);if(!n)return;var r=e("#wp-"+t+"-wrap"),i=e(n.getBody()),s=e(n.getElement());r.on("click",function(){acf.validation.remove_error(r.closest(".acf-field"))});i.on("focus",function(){wpActiveEditor=t;acf.validation.remove_error(r.closest(".acf-field"))});i.on("blur",function(){wpActiveEditor=null;n.save();s.trigger("change")})},destroy:function(){var e=this.o.id,t=tinyMCE.get(e);try{tinyMCE.execCommand("mceRemoveControl",!1,e)}catch(n){console.log(n)}wpActiveEditor=null}};acf.add_action("ready",function(t){if(!acf.fields.wysiwyg.has_tinymce())return;acf.add_action("remove",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})}).add_action("sortstart",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})}).add_action("sortstop",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})}).add_action("load",function(t){var n=e("#wp-content-wrap").exists(),r=e("#wp-acf_settings-wrap").exists();mode="tmce";r&&e("#wp-acf_settings-wrap").hasClass("html-active")&&(mode="html");setTimeout(function(){r&&mode=="html"&&e("#acf_settings-tmce").trigger("click")},1);setTimeout(function(){var n=acf.get_fields({type:"wysiwyg"},t);n.each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()});setTimeout(function(){n.each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})},0)},10);setTimeout(function(){r&&mode=="html"&&e("#acf_settings-html").trigger("click");n&&acf.fields.wysiwyg.set({$el:e("#wp-content-wrap")}).add_events()},11)})});e(document).on("click",".acfacf.fields.wysiwyg a.mce_fullscreen",function(){var t=e(this).closest(".acfacf.fields.wysiwyg"),n=t.attr("data-upload");n=="no"&&e("#mce_fullscreen_container td.mceToolbar .mce_add_media").remove()})})(jQuery);